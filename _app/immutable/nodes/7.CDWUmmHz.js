const __vite__fileDeps=["../chunks/codemirror.BelXc4t7.js","../chunks/_commonjsHelpers.Cpj98o6Y.js","../assets/codemirror.CwxH9GCU.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as ht}from"../chunks/preload-helper.D6kgxu3v.js";import{s as ut,C as Je,l as A,d as u,X as _t,Y as vt,e as k,a as T,c as g,g as V,f as U,j as v,k as p,r as N,Z as bt,_ as kt,$ as gt,v as G,w as q,y as Se,h as wt,i as H,G as ze,a0 as Ct,a1 as B,A as De,u as He,o as Et,n as Pe,b as Ge}from"../chunks/scheduler.CzL0JPbh.js";import{S as ct,i as ft,t as _e,g as xt,d as Ee,f as yt,c as Me,a as Oe,m as Ve,e as Re}from"../chunks/index.CZ9WbNVy.js";import{g as At}from"../chunks/globals.D0QH3NT1.js";import{g as Lt}from"../chunks/entry.WQUdRvnY.js";import{n as St}from"../chunks/stores.DeaeLDfU.js";import{h as Dt,j as Pt,f as qe,k as Tt,n as Ut,o as It,p as Mt,q as mt,s as Ot,v as Vt,a as Rt,i as Ht,w as Ft,t as Ke,K as Nt,g as Ye,T as zt,x as jt,z as Wt,A as Xe}from"../chunks/common.C1_fZTma.js";import{F as Bt}from"../chunks/footer.D2CZm6zD.js";import{d as Ze,l as Jt,U as Gt,s as qt}from"../chunks/loader.B2qLOSxx.js";import{j as Qe}from"../chunks/js-yaml.mbYHt68G.js";import{d as $e}from"../chunks/debounce.1acgtFjJ.js";var et=function(){try{var l=Dt(Object,"defineProperty");return l({},"",{}),l}catch{}}();function Kt(l,e,t){e=="__proto__"&&et?et(l,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):l[e]=t}var Yt=Object.prototype,Xt=Yt.hasOwnProperty;function Zt(l,e,t){var s=l[e];(!(Xt.call(l,e)&&Pt(s,t))||t===void 0&&!(e in l))&&Kt(l,e,t)}function Qt(l,e,t,s){if(!qe(l))return l;e=Tt(e,l);for(var a=-1,n=e.length,_=n-1,c=l;c!=null&&++a<n;){var m=Ut(e[a]),o=t;if(m==="__proto__"||m==="constructor"||m==="prototype")return l;if(a!=_){var i=c[m];o=void 0,o===void 0&&(o=qe(i)?i:It(e[a+1])?[]:{})}Zt(c,m,o),c=c[m]}return l}function Le(l,e,t){return l==null?l:Qt(l,e,t)}function tt(l){let e,t,s,a,n,_,c,m,o,i=l[1]&&lt(l);const L=l[4].default,f=vt(L,l,l[3],null);return{c(){e=k("div"),t=k("div"),s=T(),a=k("div"),i&&i.c(),n=T(),_=k("div"),f&&f.c(),this.h()},l(r){e=g(r,"DIV",{class:!0});var w=V(e);t=g(w,"DIV",{class:!0}),V(t).forEach(u),s=U(w),a=g(w,"DIV",{class:!0});var y=V(a);i&&i.l(y),n=U(y),_=g(y,"DIV",{class:!0});var E=V(_);f&&f.l(E),E.forEach(u),y.forEach(u),w.forEach(u),this.h()},h(){v(t,"class","modal-backdrop"),v(_,"class","text-sm"),v(a,"class","modal-content"),v(e,"class","modal")},m(r,w){A(r,e,w),p(e,t),p(e,s),p(e,a),i&&i.m(a,null),p(a,n),p(a,_),f&&f.m(_,null),c=!0,m||(o=N(t,"click",l[2]),m=!0)},p(r,w){r[1]?i?i.p(r,w):(i=lt(r),i.c(),i.m(a,n)):i&&(i.d(1),i=null),f&&f.p&&(!c||w&8)&&bt(f,L,r,r[3],c?gt(L,r[3],w,null):kt(r[3]),null)},i(r){c||(_e(f,r),c=!0)},o(r){Ee(f,r),c=!1},d(r){r&&u(e),i&&i.d(),f&&f.d(r),m=!1,o()}}}function lt(l){let e,t;return{c(){e=k("div"),t=G(l[1]),this.h()},l(s){e=g(s,"DIV",{class:!0});var a=V(e);t=q(a,l[1]),a.forEach(u),this.h()},h(){v(e,"class","text-center text-lg font-semibold mb-2")},m(s,a){A(s,e,a),p(e,t)},p(s,a){a&2&&Se(t,s[1])},d(s){s&&u(e)}}}function $t(l){let e,t,s=l[0]&&tt(l);return{c(){s&&s.c(),e=Je()},l(a){s&&s.l(a),e=Je()},m(a,n){s&&s.m(a,n),A(a,e,n),t=!0},p(a,[n]){a[0]?s?(s.p(a,n),n&1&&_e(s,1)):(s=tt(a),s.c(),_e(s,1),s.m(e.parentNode,e)):s&&(xt(),Ee(s,1,1,()=>{s=null}),yt())},i(a){t||(_e(s),t=!0)},o(a){Ee(s),t=!1},d(a){a&&u(e),s&&s.d(a)}}}function el(l,e,t){let{$$slots:s={},$$scope:a}=e,{show:n=!1}=e,{title:_}=e;const c=_t();function m(){c("close")}return l.$$set=o=>{"show"in o&&t(0,n=o.show),"title"in o&&t(1,_=o.title),"$$scope"in o&&t(3,a=o.$$scope)},[n,_,m,a,s]}class Fe extends ct{constructor(e){super(),ft(this,e,el,$t,ut,{show:0,title:1})}}const tl=`<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<!--CSS-->
</head>
<body>
<svg id="mindmap"></svg>
<!--JS-->
</body>
</html>
`,pt=["d3@7.8.5/dist/d3.min.js","markmap-view@0.17.0/dist/browser/index.js"];function ll(l,e,t){t={...t};const s=t.urlBuilder??Mt;t.baseJs??(t.baseJs=pt.map(i=>s.getFullUrl(i)).map(i=>mt(i)));const{scripts:a,styles:n}=e,_=[...n?Ot(n):[]],c={getMarkmap:()=>window.markmap,getOptions:t.getOptions,jsonOptions:t.jsonOptions,root:l},m=[...Vt([...t.baseJs,...a||[],{type:"iife",data:{fn:(i,L,f,r)=>{const w=i();window.mm=w.Markmap.create("svg#mindmap",(L||w.deriveOptions)(r),f)},getParams:({getMarkmap:i,getOptions:L,root:f,jsonOptions:r})=>[i,L,f,r]}}],c)];return tl.replace("<!--CSS-->",()=>_.join("")).replace("<!--JS-->",()=>m.join(""))}const{document:Ne}=At;function al(l){let e,t,s,a="Open URL:",n,_,c,m,o,i,L="✓",f,r,w="✗",y,E,x="?",Q,j,re,R=l[7].data.type&&at(l),D=l[7].error&&st(l);return{c(){e=k("div"),t=k("form"),s=k("span"),s.textContent=a,n=T(),R&&R.c(),_=T(),c=k("input"),o=T(),i=k("a"),i.textContent=L,f=T(),r=k("a"),r.textContent=w,y=T(),E=k("a"),E.textContent=x,Q=T(),D&&D.c(),this.h()},l(S){e=g(S,"DIV",{class:!0});var I=V(e);t=g(I,"FORM",{class:!0});var F=V(t);s=g(F,"SPAN",{class:!0,"data-svelte-h":!0}),H(s)!=="svelte-1e142zu"&&(s.textContent=a),n=U(F),R&&R.l(F),_=U(F),c=g(F,"INPUT",{class:!0,style:!0,type:!0}),o=U(F),i=g(F,"A",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1t5ui8u"&&(i.textContent=L),f=U(F),r=g(F,"A",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-17phryo"&&(r.textContent=w),y=U(F),E=g(F,"A",{class:!0,"data-ga-label":!0,"data-svelte-h":!0}),H(E)!=="svelte-14i9xoe"&&(E.textContent=x),F.forEach(u),Q=U(I),D&&D.l(I),I.forEach(u),this.h()},h(){v(s,"class","hidden md:block mr-2"),v(c,"class","flex-1 border-b border-blue-500 pl-1 min-w-0"),ze(c,"width","560px"),v(c,"type","url"),c.value=m=l[7].url,v(i,"class","ml-2 no-underline"),v(r,"class","ml-2 no-underline"),v(E,"class","ml-2 no-underline"),v(E,"data-ga-label","openUrlHelp"),v(t,"class","flex"),v(e,"class","md:flex w-full")},m(S,I){A(S,e,I),p(e,t),p(t,s),p(t,n),R&&R.m(t,null),p(t,_),p(t,c),p(t,o),p(t,i),p(t,f),p(t,r),p(t,y),p(t,E),p(e,Q),D&&D.m(e,null),j||(re=[N(c,"input",l[18]),N(i,"click",B(l[16])),N(r,"click",B(l[17])),N(E,"click",B(l[19])),N(t,"submit",B(l[16]))],j=!0)},p(S,I){S[7].data.type?R?R.p(S,I):(R=at(S),R.c(),R.m(t,_)):R&&(R.d(1),R=null),I[0]&128&&m!==(m=S[7].url)&&c.value!==m&&(c.value=m),S[7].error?D?D.p(S,I):(D=st(S),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},d(S){S&&u(e),R&&R.d(),D&&D.d(),j=!1,De(re)}}}function sl(l){var F,K,ne,ee,ve,fe,Y,te,be,me,le,ke;let e,t="Open URL",s,a,n,_,c,m,o=((ne=(K=(F=l[8])==null?void 0:F.data)==null?void 0:K.markmap)==null?void 0:ne.initialExpandLevel)==null?"Limit expand level":"Expand all levels",i,L,f,r=((fe=(ve=(ee=l[8])==null?void 0:ee.data)==null?void 0:ve.markmap)==null?void 0:fe.htmlParser)==null?"Filter nodes":"Show all supported nodes",w,y,E,x="Learn more",Q,j;function re(b,P){var X,J,de;return typeof((de=(J=(X=b[8])==null?void 0:X.data)==null?void 0:J.markmap)==null?void 0:de.color)=="string"?il:nl}let R=re(l),D=R(l),S=!((be=(te=(Y=l[8])==null?void 0:Y.data)==null?void 0:te.markmap)!=null&&be.maxWidth)&&nt(l),I=!((ke=(le=(me=l[8])==null?void 0:me.data)==null?void 0:le.markmap)!=null&&ke.embedAssets)&&it(l);return{c(){e=k("a"),e.textContent=t,s=T(),a=k("span"),D.c(),n=T(),S&&S.c(),_=T(),I&&I.c(),c=T(),m=k("a"),i=G(o),L=T(),f=k("a"),w=G(r),y=T(),E=k("a"),E.textContent=x,this.h()},l(b){e=g(b,"A",{"data-svelte-h":!0}),H(e)!=="svelte-bs3tzt"&&(e.textContent=t),s=U(b),a=g(b,"SPAN",{class:!0});var P=V(a);D.l(P),P.forEach(u),n=U(b),S&&S.l(b),_=U(b),I&&I.l(b),c=U(b),m=g(b,"A",{class:!0,"data-ga-label":!0});var X=V(m);i=q(X,o),X.forEach(u),L=U(b),f=g(b,"A",{class:!0,"data-ga-label":!0});var J=V(f);w=q(J,r),J.forEach(u),y=U(b),E=g(b,"A",{class:!0,href:!0,"data-svelte-h":!0}),H(E)!=="svelte-qj0uhu"&&(E.textContent=x),this.h()},h(){v(a,"class","ml-4"),v(m,"class","ml-4"),v(m,"data-ga-label","expandLevel"),v(f,"class","ml-4"),v(f,"data-ga-label","filterElements"),v(E,"class","ml-4"),v(E,"href","/docs/json-options")},m(b,P){A(b,e,P),A(b,s,P),A(b,a,P),D.m(a,null),A(b,n,P),S&&S.m(b,P),A(b,_,P),I&&I.m(b,P),A(b,c,P),A(b,m,P),p(m,i),A(b,L,P),A(b,f,P),p(f,w),A(b,y,P),A(b,E,P),Q||(j=[N(e,"click",B(l[15])),N(m,"click",B(l[27])),N(f,"click",B(l[28]))],Q=!0)},p(b,P){var X,J,de,pe,he,ue,ae,ie,Z,ce,d,C;R===(R=re(b))&&D?D.p(b,P):(D.d(1),D=R(b),D&&(D.c(),D.m(a,null))),(de=(J=(X=b[8])==null?void 0:X.data)==null?void 0:J.markmap)!=null&&de.maxWidth?S&&(S.d(1),S=null):S?S.p(b,P):(S=nt(b),S.c(),S.m(_.parentNode,_)),(ue=(he=(pe=b[8])==null?void 0:pe.data)==null?void 0:he.markmap)!=null&&ue.embedAssets?I&&(I.d(1),I=null):I?I.p(b,P):(I=it(b),I.c(),I.m(c.parentNode,c)),P[0]&256&&o!==(o=((Z=(ie=(ae=b[8])==null?void 0:ae.data)==null?void 0:ie.markmap)==null?void 0:Z.initialExpandLevel)==null?"Limit expand level":"Expand all levels")&&Se(i,o),P[0]&256&&r!==(r=((C=(d=(ce=b[8])==null?void 0:ce.data)==null?void 0:d.markmap)==null?void 0:C.htmlParser)==null?"Filter nodes":"Show all supported nodes")&&Se(w,r)},d(b){b&&(u(e),u(s),u(a),u(n),u(_),u(c),u(m),u(L),u(f),u(y),u(E)),D.d(),S&&S.d(b),I&&I.d(b),Q=!1,De(j)}}}function at(l){let e,t=l[7].data.desc+"",s;return{c(){e=k("span"),s=G(t),this.h()},l(a){e=g(a,"SPAN",{class:!0});var n=V(e);s=q(n,t),n.forEach(u),this.h()},h(){v(e,"class","hidden md:block px-1 bg-blue-500 text-white rounded-l")},m(a,n){A(a,e,n),p(e,s)},p(a,n){n[0]&128&&t!==(t=a[7].data.desc+"")&&Se(s,t)},d(a){a&&u(e)}}}function st(l){let e,t=l[7].error+"",s;return{c(){e=k("div"),s=G(t),this.h()},l(a){e=g(a,"DIV",{class:!0});var n=V(e);s=q(n,t),n.forEach(u),this.h()},h(){v(e,"class","ml-2 text-red-600")},m(a,n){A(a,e,n),p(e,s)},p(a,n){n[0]&128&&t!==(t=a[7].error+"")&&Se(s,t)},d(a){a&&u(e)}}}function nl(l){let e,t="Use solid color",s,a;return{c(){e=k("a"),e.textContent=t,this.h()},l(n){e=g(n,"A",{"data-ga-label":!0,"data-svelte-h":!0}),H(e)!=="svelte-1o5gh70"&&(e.textContent=t),this.h()},h(){v(e,"data-ga-label","solidColor")},m(n,_){A(n,e,_),s||(a=N(e,"click",B(l[23])),s=!0)},p:Pe,d(n){n&&u(e),s=!1,a()}}}function il(l){let e,t="Colorize",s,a;return{c(){e=k("a"),e.textContent=t,this.h()},l(n){e=g(n,"A",{"data-ga-label":!0,"data-svelte-h":!0}),H(e)!=="svelte-gh8pxy"&&(e.textContent=t),this.h()},h(){v(e,"data-ga-label","colorize")},m(n,_){A(n,e,_),s||(a=N(e,"click",B(l[24])),s=!0)},p:Pe,d(n){n&&u(e),s=!1,a()}}}function nt(l){let e,t="Wrap long text",s,a;return{c(){e=k("a"),e.textContent=t,this.h()},l(n){e=g(n,"A",{class:!0,"data-ga-label":!0,"data-svelte-h":!0}),H(e)!=="svelte-fvlxsx"&&(e.textContent=t),this.h()},h(){v(e,"class","ml-4"),v(e,"data-ga-label","wrapLongText")},m(n,_){A(n,e,_),s||(a=N(e,"click",B(l[25])),s=!0)},p:Pe,d(n){n&&u(e),s=!1,a()}}}function it(l){let e,t,s,a,n,_,c,m,o,i,L;return{c(){e=k("span"),t=k("a"),s=G("Embed assets"),n=T(),_=k("sup"),c=k("a"),m=G("?"),this.h()},l(f){e=g(f,"SPAN",{class:!0});var r=V(e);t=g(r,"A",{class:!0,"data-ga-label":!0});var w=V(t);s=q(w,"Embed assets"),w.forEach(u),n=U(r),_=g(r,"SUP",{});var y=V(_);c=g(y,"A",{class:!0,"data-ga-label":!0});var E=V(c);m=q(E,"?"),E.forEach(u),y.forEach(u),r.forEach(u),this.h()},h(){v(t,"class",a=l[9]?"text-orange-600":""),v(t,"data-ga-label","embedAssets"),v(c,"class",o=`no-underline ${l[9]?"text-orange-600":""}`),v(c,"data-ga-label","embedAssetsHelp"),v(e,"class","ml-4")},m(f,r){A(f,e,r),p(e,t),p(t,s),p(e,n),p(e,_),p(_,c),p(c,m),i||(L=[N(t,"click",B(l[26])),N(c,"click",B(l[21]))],i=!0)},p(f,r){r[0]&512&&a!==(a=f[9]?"text-orange-600":"")&&v(t,"class",a),r[0]&512&&o!==(o=`no-underline ${f[9]?"text-orange-600":""}`)&&v(c,"class",o)},d(f){f&&u(e),i=!1,De(L)}}}function ot(l){let e,t,s;return{c(){e=k("textarea"),this.h()},l(a){e=g(a,"TEXTAREA",{class:!0}),V(e).forEach(u),this.h()},h(){v(e,"class","w-full h-full p-1"),e.value=l[1]},m(a,n){A(a,e,n),t||(s=N(e,"input",l[14]),t=!0)},p(a,n){n[0]&2&&(e.value=a[1])},d(a){a&&u(e),t=!1,s()}}}function ol(l){let e,t=`<li class="mb-1">GitHub Gist
			<ul class="text-xs list-disc pl-4"><li>https://gist.github.com/gera2ld/af76a4c245b302206b16aec503dbe07b</li> <li>https://gist.githubusercontent.com/gera2ld/af76a4c245b302206b16aec503dbe07b/raw/markmap.md</li></ul></li> <li class="mb-1"><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">CORS
			</a>-enabled URL to a markdown file, including raw file URL in GitHub or Gist
			<ul class="text-xs list-disc pl-4"><li>https://raw.githubusercontent.com/markmap/markmap/master/README.md</li></ul></li> <li class="mb-1">Short links
			<ul class="text-xs list-disc pl-4"><li>gist:af76a4c245b302206b16aec503dbe07b</li> <li>gist:af76a4c245b302206b16aec503dbe07b:markmap.md</li> <li>github:markmap/markmap@master</li> <li>github:markmap/markmap@master:README.md</li></ul></li>`,s,a,n,_="OK",c,m;return{c(){e=k("ol"),e.innerHTML=t,s=T(),a=k("div"),n=k("a"),n.textContent=_,this.h()},l(o){e=g(o,"OL",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1ck589d"&&(e.innerHTML=t),s=U(o),a=g(o,"DIV",{class:!0});var i=V(a);n=g(i,"A",{"data-svelte-h":!0}),H(n)!=="svelte-9eylgb"&&(n.textContent=_),i.forEach(u),this.h()},h(){v(e,"class","text-left list-decimal pl-4"),v(a,"class","modal-footer")},m(o,i){A(o,e,i),A(o,s,i),A(o,a,i),p(a,n),c||(m=N(n,"click",B(l[20])),c=!0)},p:Pe,d(o){o&&(u(e),u(s),u(a)),c=!1,m()}}}function rt(l){let e,t=`It seems you cannot connect to <code>https://cdn.jsdelivr.net</code>, try
			<code>Embed assets</code> to make the exported HTML work.`;return{c(){e=k("p"),e.innerHTML=t,this.h()},l(s){e=g(s,"P",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-12legxd"&&(e.innerHTML=t),this.h()},h(){v(e,"class","bg-red-200 border border-red-400 rounded p-2 max-w-lg")},m(s,a){A(s,e,a)},d(s){s&&u(e)}}}function rl(l){let e,t,s="When enabled, all critical assets will be embedded within the exported HTML.",a,n,_=`<li>Pros:
			<ul class="list-disc pl-4"><li>no further network requests when rendering the markmap</li> <li>no dependency on CDNs like jsdelivr</li></ul></li> <li>Cons:
			<ul class="list-disc pl-4"><li>the exported file will be bloated</li></ul></li>`,c,m,o,i="OK",L,f,r=l[9]&&rt();return{c(){r&&r.c(),e=T(),t=k("p"),t.textContent=s,a=T(),n=k("ul"),n.innerHTML=_,c=T(),m=k("div"),o=k("a"),o.textContent=i,this.h()},l(w){r&&r.l(w),e=U(w),t=g(w,"P",{"data-svelte-h":!0}),H(t)!=="svelte-chs2mn"&&(t.textContent=s),a=U(w),n=g(w,"UL",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-1ot90tu"&&(n.innerHTML=_),c=U(w),m=g(w,"DIV",{class:!0});var y=V(m);o=g(y,"A",{"data-svelte-h":!0}),H(o)!=="svelte-167zows"&&(o.textContent=i),y.forEach(u),this.h()},h(){v(n,"class","list-disc pl-4"),v(m,"class","modal-footer")},m(w,y){r&&r.m(w,y),A(w,e,y),A(w,t,y),A(w,a,y),A(w,n,y),A(w,c,y),A(w,m,y),p(m,o),L||(f=N(o,"click",B(l[22])),L=!0)},p(w,y){w[9]?r||(r=rt(),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(w){w&&(u(e),u(t),u(a),u(n),u(c),u(m)),r&&r.d(w),L=!1,f()}}}function dl(l){let e,t="You should save them in Gist or other file services. Do you still want to continue?",s,a,n,_="Cancel",c,m,o="OK",i,L;return{c(){e=k("p"),e.textContent=t,s=T(),a=k("div"),n=k("a"),n.textContent=_,c=T(),m=k("a"),m.textContent=o,this.h()},l(f){e=g(f,"P",{"data-svelte-h":!0}),H(e)!=="svelte-1q2276t"&&(e.textContent=t),s=U(f),a=g(f,"DIV",{class:!0});var r=V(a);n=g(r,"A",{"data-svelte-h":!0}),H(n)!=="svelte-1ij7f37"&&(n.textContent=_),c=U(r),m=g(r,"A",{class:!0,"data-svelte-h":!0}),H(m)!=="svelte-f0t61u"&&(m.textContent=o),r.forEach(u),this.h()},h(){v(m,"class","text-gray-500"),v(a,"class","modal-footer")},m(f,r){A(f,e,r),A(f,s,r),A(f,a,r),p(a,n),p(a,c),p(a,m),i||(L=[N(n,"click",B(l[10])),N(m,"click",B(l[11]))],i=!0)},p:Pe,d(f){f&&(u(e),u(s),u(a)),i=!1,De(L)}}}function ul(l){let e,t,s,a='<a class="inline-block text-sm text-orange-600 underline" href="https://marketplace.visualstudio.com/items?itemName=gera2ld.markmap-vscode" target="_blank" rel="noreferrer noopener" data-ga-label="markmapVSCodeFromREPL">Markmap in VSCode!</a>',n,_,c,m,o,i,L,f,r,w,y,E,x="0.17.0",Q,j,re="0.17.0",R,D,S="0.17.0",I,F,K,ne,ee,ve="Download as interactive HTML",fe,Y,te,be="Download as SVG",me,le,ke="⚠️",b,P,X,J,de=Nt?"Cmd":"Ctrl",pe,he,ue,ae,ie,Z,ce,d,C,W,z,ge,we;function Te(h,M){return h[7].show?al:sl}let xe=Te(l),$=xe(l),O=!l[0]&&ot(l);return ae=new Bt({}),Z=new Fe({props:{show:l[4],title:"The following types of URLs are supported",$$slots:{default:[ol]},$$scope:{ctx:l}}}),Z.$on("close",l[20]),d=new Fe({props:{show:l[5],title:"Embedding Assets",$$slots:{default:[rl]},$$scope:{ctx:l}}}),d.$on("close",l[22]),W=new Fe({props:{show:l[6],title:"Your changes will be lost!",$$slots:{default:[dl]},$$scope:{ctx:l}}}),W.$on("close",l[10]),{c(){e=k("meta"),t=T(),s=k("div"),s.innerHTML=a,n=T(),_=k("main"),c=k("div"),$.c(),m=T(),o=k("div"),i=k("div"),O&&O.c(),L=T(),f=k("iframe"),w=T(),y=k("div"),E=G("markmap-lib@"),Q=G(x),j=G(",markmap-view@"),R=G(re),D=G(",markmap-render@"),I=G(S),F=T(),K=k("div"),ne=k("div"),ee=k("a"),ee.textContent=ve,fe=T(),Y=k("div"),te=k("a"),te.textContent=be,me=T(),le=k("span"),le.textContent=ke,b=T(),P=k("div"),X=G("Press "),J=k("kbd"),pe=G(de),he=G(" to toggle recursively"),ue=T(),Me(ae.$$.fragment),ie=T(),Me(Z.$$.fragment),ce=T(),Me(d.$$.fragment),C=T(),Me(W.$$.fragment),this.h()},l(h){const M=wt("svelte-lvhij9",Ne.head);e=g(M,"META",{name:!0,content:!0}),M.forEach(u),t=U(h),s=g(h,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),H(s)!=="svelte-b8p9i3"&&(s.innerHTML=a),n=U(h),_=g(h,"MAIN",{class:!0});var oe=V(_);c=g(oe,"DIV",{class:!0});var ye=V(c);$.l(ye),ye.forEach(u),m=U(oe),o=g(oe,"DIV",{class:!0});var se=V(o);i=g(se,"DIV",{class:!0});var je=V(i);O&&O.l(je),je.forEach(u),L=U(se),f=g(se,"IFRAME",{class:!0,src:!0}),V(f).forEach(u),w=U(se),y=g(se,"DIV",{class:!0});var Ce=V(y);E=q(Ce,"markmap-lib@"),Q=q(Ce,x),j=q(Ce,",markmap-view@"),R=q(Ce,re),D=q(Ce,",markmap-render@"),I=q(Ce,S),Ce.forEach(u),F=U(se),K=g(se,"DIV",{class:!0});var Ae=V(K);ne=g(Ae,"DIV",{class:!0});var We=V(ne);ee=g(We,"A",{"data-svelte-h":!0}),H(ee)!=="svelte-1uez7bi"&&(ee.textContent=ve),We.forEach(u),fe=U(Ae),Y=g(Ae,"DIV",{class:!0,title:!0});var Ue=V(Y);te=g(Ue,"A",{"data-svelte-h":!0}),H(te)!=="svelte-p6mv4u"&&(te.textContent=be),me=U(Ue),le=g(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),H(le)!=="svelte-12j6prf"&&(le.textContent=ke),Ue.forEach(u),b=U(Ae),P=g(Ae,"DIV",{class:!0});var Ie=V(P);X=q(Ie,"Press "),J=g(Ie,"KBD",{});var Be=V(J);pe=q(Be,de),Be.forEach(u),he=q(Ie," to toggle recursively"),Ie.forEach(u),Ae.forEach(u),se.forEach(u),oe.forEach(u),ue=U(h),Oe(ae.$$.fragment,h),ie=U(h),Oe(Z.$$.fragment,h),ce=U(h),Oe(d.$$.fragment,h),C=U(h),Oe(W.$$.fragment,h),this.h()},h(){Ne.title="Try markmap",v(e,"name","Description"),v(e,"content","Try the markmap REPL here."),v(s,"class","fixed z-10 hidden md:block"),ze(s,"top","15px"),ze(s,"left","50%"),v(c,"class","flex items-center mb-4 text-sm whitespace-nowrap overflow-auto"),v(i,"class","markmap-wrapper"),v(f,"class","markmap-wrapper"),Ct(f.src,r="/inner")||v(f,"src",r),v(y,"class","text-sm text-gray-400 hidden md:block"),v(ne,"class","px-4 py-2"),v(le,"class","text-red-500"),v(Y,"class","px-4 py-2"),v(Y,"title","SVG export does not work well with Syntax highlighting and Katex"),v(P,"class","flex-1 text-right text-xs"),v(K,"class","flex items-center flex-wrap whitespace-nowrap"),v(o,"class","flex-1 min-h-0 repl flex flex-col md:grid items-stretch justify-items-stretch"),v(_,"class","inner flex flex-col md:fs")},m(h,M){p(Ne.head,e),A(h,t,M),A(h,s,M),A(h,n,M),A(h,_,M),p(_,c),$.m(c,null),p(_,m),p(_,o),p(o,i),O&&O.m(i,null),l[33](i),p(o,L),p(o,f),l[34](f),p(o,w),p(o,y),p(y,E),p(y,Q),p(y,j),p(y,R),p(y,D),p(y,I),p(o,F),p(o,K),p(K,ne),p(ne,ee),p(K,fe),p(K,Y),p(Y,te),p(Y,me),p(Y,le),p(K,b),p(K,P),p(P,X),p(P,J),p(J,pe),p(P,he),A(h,ue,M),Ve(ae,h,M),A(h,ie,M),Ve(Z,h,M),A(h,ce,M),Ve(d,h,M),A(h,C,M),Ve(W,h,M),z=!0,ge||(we=[N(ee,"click",B(l[13])),N(te,"click",B(l[12]))],ge=!0)},p(h,M){xe===(xe=Te(h))&&$?$.p(h,M):($.d(1),$=xe(h),$&&($.c(),$.m(c,null))),h[0]?O&&(O.d(1),O=null):O?O.p(h,M):(O=ot(h),O.c(),O.m(i,null));const oe={};M[0]&16&&(oe.show=h[4]),M[1]&32768&&(oe.$$scope={dirty:M,ctx:h}),Z.$set(oe);const ye={};M[0]&32&&(ye.show=h[5]),M[0]&512|M[1]&32768&&(ye.$$scope={dirty:M,ctx:h}),d.$set(ye);const se={};M[0]&64&&(se.show=h[6]),M[1]&32768&&(se.$$scope={dirty:M,ctx:h}),W.$set(se)},i(h){z||(_e(ae.$$.fragment,h),_e(Z.$$.fragment,h),_e(d.$$.fragment,h),_e(W.$$.fragment,h),z=!0)},o(h){Ee(ae.$$.fragment,h),Ee(Z.$$.fragment,h),Ee(d.$$.fragment,h),Ee(W.$$.fragment,h),z=!1},d(h){h&&(u(t),u(s),u(n),u(_),u(ue),u(ie),u(ce),u(C)),u(e),$.d(),O&&O.d(),l[33](null),l[34](null),Re(ae,h),Re(Z,h),Re(d,h),Re(W,h),ge=!1,De(we)}}}function dt(l,e){const t=document.createElement("a");t.download=l,t.href=e,t.click()}function cl(l,e,t){let s,a,n;He(l,Ht,d=>t(31,s=d)),He(l,St,d=>t(32,a=d)),He(l,Ft,d=>t(9,n=d));const _=Rt();let c,m,o,i="",L=!0,f=!1,r=!1,w=!1,y=null;const E={show:!1,error:null,url:Ze.asUrl(),data:Ze};let x;const Q={getData(){j("setFit",L),j("setData",i)},goToFullPage(){i!==ie?t(6,w=!0):R()},downloadSvg(d){dt("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(d))},async downloadHtml({result:d}){await _;const C=Ye().getUsedAssets(d.features);I({result:d,assets:C})},navigate(d){window.location.assign(d)}};function j(d,C){m==null||m.contentWindow.postMessage({type:d,data:C},window.location.origin)}function re(){t(6,w=!1)}function R(){Lt("/full"+window.location.hash)}function D(){j("downloadSvg")}function S(){j("downloadHtml")}async function I({result:d,assets:C}){const W=Ye(),{root:z,frontmatter:ge}=d,we=ge==null?void 0:ge.markmap,Te={baseJs:[],jsonOptions:we,urlBuilder:W.urlBuilder},xe=we==null?void 0:we.embedAssets;C={scripts:[...[...pt,zt].map(O=>W.urlBuilder.getFullUrl(O)).map(O=>mt(O)),...C.scripts,{type:"iife",data:{fn:()=>{setTimeout(()=>{const{markmap:O,mm:h}=window,M=new O.Toolbar;M.attach(h);const oe=M.render();oe.setAttribute("style","position:absolute;bottom:20px;right:20px"),document.body.append(oe)})}}}],styles:[jt(W.urlBuilder.getFullUrl(Wt)),...C.styles]},xe&&([C.scripts,C.styles]=await Promise.all([Promise.all(C.scripts.map(async O=>O.type==="script"&&O.data.src?{type:"script",data:{textContent:await Xe(O.data.src)}}:O)),Promise.all(C.styles.map(async O=>O.type==="stylesheet"?{type:"style",data:await Xe(O.data.href)}:O))]));const $=ll(z,C,Te);dt("markmap.html","data:text/html;utf8,"+encodeURIComponent($))}function F(){o&&(t(1,i=o.getValue()),i!==ie&&t(29,L=!1))}function K(){if(o){const{line:d}=o.getCursor();j("setCursor",d)}}function ne(d){t(1,i=d.target.value),t(29,L=!1)}function ee(){t(7,E.show=!0,E)}async function ve(){try{const{type:d}=E.data;if(!d)throw new Error("Unsupported URL");await Jt(E.data),t(7,E.show=!1,E),t(7,E.error=null,E),window.location.hash=`#?d=${encodeURIComponent(E.data.asData())}`,Ke("event","openUrl",{event_label:d})}catch(d){t(7,E.error=d.message||"Unknown error",E),Ke("event","openUrl",{event_label:"error"})}}function fe(){t(7,E.show=!1,E)}function Y(d){const C=d.target.value;t(7,E.url=C,E),t(7,E.data=Gt.parse(C),E)}function te(){t(4,f=!0)}function be(){t(4,f=!1)}function me(){t(5,r=!0)}function le(){t(5,r=!1)}function ke(){if(!i.startsWith(`---
`))return;const d=i.indexOf(`
---
`);if(d<0)return;const C=i.slice(4,d);try{return{data:Qe.load(C),offset:d+5}}catch{}}function b(){let d=x.offset?i.slice(x.offset):i;d.startsWith(`
`)&&(d=d.slice(1));const C=["---",Qe.dump(x.data).trim(),"---","",d].join(`
`);o.setValue(C)}function P(){var d,C;typeof((C=(d=x==null?void 0:x.data)==null?void 0:d.markmap)==null?void 0:C.color)!="string"&&(t(8,x=Le(x||{},"data.markmap.color","#2980b9")),b())}function X(){var d,C;(C=(d=x==null?void 0:x.data)==null?void 0:d.markmap)!=null&&C.color&&(t(8,x.data.markmap.color=void 0,x),b())}function J(){var d,C;(C=(d=x==null?void 0:x.data)==null?void 0:d.markmap)!=null&&C.maxWidth||(t(8,x=Le(x||{},"data.markmap.maxWidth",300)),b())}function de(){var d,C;(C=(d=x==null?void 0:x.data)==null?void 0:d.markmap)!=null&&C.embedAssets||(t(8,x=Le(x||{},"data.markmap.embedAssets",!0)),b())}function pe(){var d,C;((C=(d=x==null?void 0:x.data)==null?void 0:d.markmap)==null?void 0:C.initialExpandLevel)==null?t(8,x=Le(x||{},"data.markmap.initialExpandLevel",1)):t(8,x.data.markmap.initialExpandLevel=void 0,x),b()}function he(){var d,C;((C=(d=x==null?void 0:x.data)==null?void 0:d.markmap)==null?void 0:C.htmlParser)==null?t(8,x=Le(x||{},"data.markmap.htmlParser",{selector:"h1,h2,h3,ul,ol,li,table,pre"})):t(8,x.data.markmap.htmlParser=void 0,x),b()}function ue(d){const{type:C,data:W}=d.data,z=Q[C];z==null||z(W)}async function ae(){window.addEventListener("message",ue);const{check:d,dispose:C}=qt(z=>{o&&o.setValue(z),t(1,i=z),ie=i,t(29,L=!0)});t(30,y=d);const{default:W}=await ht(()=>import("../chunks/codemirror.BelXc4t7.js"),__vite__mapDeps([0,1,2]),import.meta.url);return t(0,o=W(c,{lineNumbers:!0,mode:"markdown",value:i,indentUnit:2,tabSize:2})),o.setOption("extraKeys",{Tab:z=>{z.somethingSelected()?z.execCommand("indentMore"):z.replaceSelection(" ".repeat(z.getOption("indentUnit")))},"Shift-Tab":z=>{z.execCommand("indentLess")}}),o.on("change",$e(F,500)),o.on("cursorActivity",$e(K,500)),()=>{t(0,o=null),t(30,y=null),C(),window.removeEventListener("message",ue)}}let ie;Et(()=>{const d=ae();return()=>{d.then(C=>C())}});function Z(d){Ge[d?"unshift":"push"](()=>{c=d,t(2,c)})}function ce(d){Ge[d?"unshift":"push"](()=>{m=d,t(3,m)})}return l.$$.update=()=>{l.$$.dirty[0]&2&&t(8,x=i&&ke()),l.$$.dirty[0]&536870912&&j("setFit",L),l.$$.dirty[0]&2&&j("setData",i),l.$$.dirty[1]&1&&j("updateTheme",s),l.$$.dirty[0]&1073741824|l.$$.dirty[1]&2&&a==null&&(y==null||y()),l.$$.dirty[0]&1|l.$$.dirty[1]&1&&(o==null||o.setOption("theme",s?"monokai":"default"))},[o,i,c,m,f,r,w,E,x,n,re,R,D,S,ne,ee,ve,fe,Y,te,be,me,le,P,X,J,de,pe,he,L,y,s,a,Z,ce]}class El extends ct{constructor(e){super(),ft(this,e,cl,ul,ut,{},null,[-1,-1])}}export{El as component};
